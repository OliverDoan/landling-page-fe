"use client";

import { useI18n } from "@/lib/i18n";
import { AnimatePresence, motion, useScroll, useTransform } from 'framer-motion';
import Image from 'next/image';
import { useEffect, useRef, useState } from 'react';
import styles from "./style/About.module.css";

function About() {
    const { t } = useI18n();
    const scrollSectionRef = useRef<HTMLElement>(null);
    const { scrollYProgress } = useScroll({
        target: scrollSectionRef,
        offset: ["start start", "end start"]
    });

    const [currentSection, setCurrentSection] = useState(1);
    const [showAdditionalCards, setShowAdditionalCards] = useState(false);

    useEffect(() => {
        const unsubscribe = scrollYProgress.on("change", (latest) => {
            // Chia scroll progress thành 4 phần bằng nhau, mỗi phần 25%
            // Section 1: 0-0.25 (25%) - scroll lần 1
            // Section 2: 0.25-0.5 (25%) - scroll lần 2
            // Section 3 với cards 1-4: 0.5-0.75 (25%) - scroll lần 3
            // Section 3 với cards 5-8: 0.75-1 (25%) - scroll lần 4, sau đó qua component khác
            if (latest < 0.25) {
                setCurrentSection(1);
                setShowAdditionalCards(false);
            } else if (latest < 0.5) {
                setCurrentSection(2);
                setShowAdditionalCards(false);
            } else if (latest < 0.75) {
                setCurrentSection(3);
                setShowAdditionalCards(false); // Hiển thị cards 1-4
            } else {
                setCurrentSection(3);
                setShowAdditionalCards(true); // Hiển thị cards 5-8
            }
        });

        return () => unsubscribe();
    }, [scrollYProgress]);

    const processBarWidth = useTransform(scrollYProgress, [0, 1], ["0%", "100%"]);

    const sections = [
        {
            id: 1,
            title: t.about.section1.title,
            content: (
                <p className={styles.description}>
                    {t.about.section1.content}
                </p>
            ),
            number: "01"
        },
        {
            id: 2,
            title: t.about.section2.title,
            content: (
                <>
                    <motion.p
                        className={styles.tagline}
                        initial={{ opacity: 0, x: 50 }}
                        animate={{ opacity: 1, x: 0 }}
                        transition={{ duration: 0.6 }}
                    >
                        {t.about.section2.tagline}
                    </motion.p>
                    <p className={styles.description}>
                        {t.about.section2.content1}
                        <br />
                        {t.about.section2.content1b}
                    </p>
                    <p className={styles.description}>
                        {t.about.section2.content2}
                    </p>
                </>
            ),
            number: "02"
        },
        {
            id: 3,
            title: t.about.section3.title,
            title2: t.about.section3.title2,
            content: (
                <div style={{ position: 'relative', width: '100%', minHeight: '100%' }}>
                    <AnimatePresence mode="wait">
                        {!showAdditionalCards ? (
                            // Cards 1-4
                            <motion.div
                                key="cards-1-4"
                                className={styles.cardsContainer}
                                style={{ position: 'absolute', top: 0, left: 0, width: '100%' }}
                                initial={{ opacity: 0, y: 20 }}
                                animate={{ opacity: 1, y: 0 }}
                                exit={{ opacity: 0, y: -20 }}
                                transition={{ duration: 0.5 }}
                            >
                                <div className={styles.cardsColumn}>
                                    <motion.div className={styles.card} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6, delay: 0.1 }}>
                                        <div className={styles.cardHeader}>
                                            <span className={styles.cardNumber}>01</span>
                                            <div className={styles.cardIcon}>
                                                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M6.78928 26.3759L7.3946 25.1879H7.3946L6.78928 26.3759ZM5.6239 25.2105L6.81191 24.6052L6.81191 24.6052L5.6239 25.2105ZM25.2106 26.3759L24.6052 25.1879V25.1879L25.2106 26.3759ZM26.3759 25.2105L25.1879 24.6052V24.6052L26.3759 25.2105ZM25.2106 8.29052L24.6052 9.47853V9.47853L25.2106 8.29052ZM26.3759 9.4559L25.1879 10.0612V10.0612L26.3759 9.4559ZM6.78928 8.29052L6.18396 7.10251H6.18396L6.78928 8.29052ZM5.6239 9.4559L4.43589 8.85058H4.43589L5.6239 9.4559ZM20.7279 19.8545L21.3333 18.6665L20.7279 19.8545ZM20.1452 19.2719L21.3333 18.6665L20.1452 19.2719ZM29.1879 19.2719L27.9999 18.6665L29.1879 19.2719ZM28.6052 19.8545L27.9999 18.6665L28.6052 19.8545ZM28.6052 14.8119L27.9999 15.9999L28.6052 14.8119ZM29.1879 15.3946L27.9999 15.9999L29.1879 15.3946ZM20.7279 14.8119L21.3333 15.9999L20.7279 14.8119ZM20.1452 15.3946L21.3333 15.9999L20.1452 15.3946ZM7.50473 6.7619C6.82102 7.03539 6.48847 7.81135 6.76195 8.49506C7.03543 9.17877 7.81139 9.51133 8.49511 9.23784L7.99992 7.99987L7.50473 6.7619ZM19.5047 3.39795L19.0095 2.15998V2.15998L19.5047 3.39795ZM19.9999 7.99987C19.9999 8.73625 20.5969 9.33321 21.3333 9.33321C22.0696 9.33321 22.6666 8.73625 22.6666 7.99987H21.3333H19.9999ZM9.59992 7.99987V9.33321H22.3999V7.99987V6.66654H9.59992V7.99987ZM22.3999 26.6665V25.3332H9.59992V26.6665V27.9999H22.3999V26.6665ZM5.33325 22.3999H6.66659V12.2665H5.33325H3.99992V22.3999H5.33325ZM26.6666 12.2665H25.3333V14.9999H26.6666H27.9999V12.2665H26.6666ZM26.6666 20.2499H25.3333V22.3999H26.6666H27.9999V20.2499H26.6666ZM9.59992 26.6665V25.3332C8.83118 25.3332 8.33482 25.3322 7.95703 25.3013C7.59482 25.2717 7.46052 25.2215 7.3946 25.1879L6.78928 26.3759L6.18396 27.5639C6.68846 27.821 7.21275 27.916 7.73988 27.9591C8.25144 28.0009 8.87518 27.9999 9.59992 27.9999V26.6665ZM5.33325 22.3999H3.99992C3.99992 23.1246 3.99888 23.7484 4.04068 24.2599C4.08375 24.787 4.17883 25.3113 4.43589 25.8158L5.6239 25.2105L6.81191 24.6052C6.77832 24.5393 6.72808 24.405 6.69849 24.0428C6.66762 23.665 6.66659 23.1686 6.66659 22.3999H5.33325ZM6.78928 26.3759L7.3946 25.1879C7.14371 25.06 6.93974 24.8561 6.81191 24.6052L5.6239 25.2105L4.43589 25.8158C4.81939 26.5685 5.43131 27.1804 6.18396 27.5639L6.78928 26.3759ZM22.3999 26.6665V27.9999C23.1247 27.9999 23.7484 28.0009 24.26 27.9591C24.7871 27.916 25.3114 27.821 25.8159 27.5639L25.2106 26.3759L24.6052 25.1879C24.5393 25.2215 24.405 25.2717 24.0428 25.3013C23.665 25.3322 23.1687 25.3332 22.3999 25.3332V26.6665ZM26.6666 22.3999H25.3333C25.3333 23.1686 25.3322 23.665 25.3013 24.0428C25.2718 24.405 25.2215 24.5393 25.1879 24.6052L26.3759 25.2105L27.5639 25.8158C27.821 25.3113 27.9161 24.787 27.9592 24.2599C28.001 23.7484 27.9999 23.1246 27.9999 22.3999H26.6666ZM25.2106 26.3759L25.8159 27.5639C26.5685 27.1804 27.1805 26.5685 27.5639 25.8158L26.3759 25.2105L25.1879 24.6052C25.0601 24.8561 24.8561 25.06 24.6052 25.1879L25.2106 26.3759ZM22.3999 7.99987V9.33321C23.1687 9.33321 23.665 9.33424 24.0428 9.36511C24.405 9.3947 24.5393 9.44494 24.6052 9.47853L25.2106 8.29052L25.8159 7.10251C25.3114 6.84546 24.7871 6.75037 24.26 6.7073C23.7484 6.6655 23.1247 6.66654 22.3999 6.66654V7.99987ZM26.6666 12.2665H27.9999C27.9999 11.5418 28.001 10.9181 27.9592 10.4065C27.9161 9.87938 27.821 9.35508 27.5639 8.85058L26.3759 9.4559L25.1879 10.0612C25.2215 10.1271 25.2718 10.2614 25.3013 10.6237C25.3322 11.0014 25.3333 11.4978 25.3333 12.2665H26.6666ZM25.2106 8.29052L24.6052 9.47853C24.8561 9.60636 25.0601 9.81034 25.1879 10.0612L26.3759 9.4559L27.5639 8.85058C27.1805 8.09793 26.5685 7.48601 25.8159 7.10251L25.2106 8.29052ZM9.59992 7.99987V6.66654C8.87518 6.66654 8.25144 6.6655 7.73988 6.7073C7.21275 6.75037 6.68846 6.84546 6.18396 7.10251L6.78928 8.29052L7.3946 9.47853C7.46052 9.44494 7.59482 9.3947 7.95703 9.36511C8.33482 9.33424 8.83118 9.33321 9.59992 9.33321V7.99987ZM5.33325 12.2665H6.66659C6.66659 11.4978 6.66762 11.0014 6.69849 10.6237C6.72808 10.2614 6.77832 10.1271 6.81191 10.0612L5.6239 9.4559L4.43589 8.85058C4.17883 9.35508 4.08375 9.87938 4.04068 10.4065C3.99888 10.9181 3.99992 11.5418 3.99992 12.2665H5.33325ZM6.78928 8.29052L6.18396 7.10251C5.43131 7.48601 4.81939 8.09793 4.43589 8.85058L5.6239 9.4559L6.81191 10.0612C6.93974 9.81034 7.14372 9.60636 7.3946 9.47853L6.78928 8.29052ZM22.1333 14.6665V15.9999H27.1999V14.6665V13.3332H22.1333V14.6665ZM29.3333 16.7999H27.9999V17.8665H29.3333H30.6666V16.7999H29.3333ZM27.1999 19.9999V18.6665H22.1333V19.9999V21.3332H27.1999V19.9999ZM19.9999 17.8665H21.3333V16.7999H19.9999H18.6666V17.8665H19.9999ZM22.1333 19.9999V18.6665C21.7379 18.6665 21.5215 18.6655 21.3661 18.6528C21.2262 18.6414 21.2566 18.6275 21.3333 18.6665L20.7279 19.8545L20.1226 21.0426C20.4845 21.227 20.8442 21.2857 21.1489 21.3106C21.4382 21.3342 21.7819 21.3332 22.1333 21.3332V19.9999ZM19.9999 17.8665H18.6666C18.6666 18.2179 18.6655 18.5616 18.6892 18.8508C18.7141 19.1556 18.7728 19.5153 18.9572 19.8772L20.1452 19.2719L21.3333 18.6665C21.3723 18.7432 21.3584 18.7736 21.347 18.6337C21.3343 18.4782 21.3333 18.2619 21.3333 17.8665H19.9999ZM20.7279 19.8545L21.3333 18.6665V18.6665L20.1452 19.2719L18.9572 19.8772C19.2129 20.3789 19.6208 20.7869 20.1226 21.0426L20.7279 19.8545ZM29.3333 17.8665H27.9999C27.9999 18.2619 27.9989 18.4782 27.9862 18.6337C27.9748 18.7736 27.9608 18.7432 27.9999 18.6665L29.1879 19.2719L30.3759 19.8772C30.5603 19.5153 30.6191 19.1556 30.644 18.8508C30.6676 18.5616 30.6666 18.2179 30.6666 17.8665H29.3333ZM27.1999 19.9999V21.3332C27.5513 21.3332 27.895 21.3342 28.1842 21.3106C28.489 21.2857 28.8487 21.227 29.2106 21.0426L28.6052 19.8545L27.9999 18.6665C28.0766 18.6275 28.107 18.6414 27.9671 18.6528C27.8116 18.6655 27.5953 18.6665 27.1999 18.6665V19.9999ZM29.1879 19.2719L27.9999 18.6665V18.6665L28.6052 19.8545L29.2106 21.0426C29.7123 20.7869 30.1203 20.3789 30.3759 19.8772L29.1879 19.2719ZM27.1999 14.6665V15.9999C27.5953 15.9999 27.8116 16.0009 27.9671 16.0136C28.107 16.025 28.0766 16.0389 27.9999 15.9999L28.6052 14.8119L29.2106 13.6239C28.8487 13.4395 28.489 13.3807 28.1842 13.3558C27.895 13.3322 27.5513 13.3332 27.1999 13.3332V14.6665ZM29.3333 16.7999H30.6666C30.6666 16.4485 30.6676 16.1048 30.644 15.8156C30.6191 15.5108 30.5603 15.1511 30.3759 14.7892L29.1879 15.3946L27.9999 15.9999C27.9608 15.9232 27.9748 15.8928 27.9862 16.0327C27.9989 16.1882 27.9999 16.4045 27.9999 16.7999H29.3333ZM28.6052 14.8119L27.9999 15.9999V15.9999L29.1879 15.3946L30.3759 14.7892C30.1203 14.2875 29.7123 13.8795 29.2106 13.6239L28.6052 14.8119ZM22.1333 14.6665V13.3332C21.7819 13.3332 21.4382 13.3322 21.1489 13.3558C20.8442 13.3807 20.4845 13.4395 20.1226 13.6239L20.7279 14.8119L21.3333 15.9999C21.2566 16.0389 21.2262 16.025 21.3661 16.0136C21.5215 16.0009 21.7379 15.9999 22.1333 15.9999V14.6665ZM19.9999 16.7999H21.3333C21.3333 16.4045 21.3343 16.1882 21.347 16.0327C21.3584 15.8928 21.3723 15.9232 21.3333 15.9999L20.1452 15.3946L18.9572 14.7892C18.7728 15.1511 18.7141 15.5108 18.6892 15.8156C18.6655 16.1048 18.6666 16.4485 18.6666 16.7999H19.9999ZM20.7279 14.8119L20.1226 13.6239C19.6208 13.8795 19.2129 14.2875 18.9572 14.7892L20.1452 15.3946L21.3333 15.9999V15.9999L20.7279 14.8119ZM7.99992 7.99987L8.49511 9.23784L19.9999 4.63592L19.5047 3.39795L19.0095 2.15998L7.50473 6.7619L7.99992 7.99987ZM21.3333 4.63592H19.9999V7.99987H21.3333H22.6666V4.63592H21.3333ZM19.5047 3.39795L19.9999 4.63592L19.9999 4.63592H21.3333H22.6666C22.6666 2.74934 20.7612 1.45933 19.0095 2.15998L19.5047 3.39795Z" fill="#173DC9" />
                                                </svg>

                                            </div>
                                        </div>
                                        <p className={styles.cardText}>{t.about.section3.card1}</p>
                                    </motion.div>
                                    <motion.div className={styles.card} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6, delay: 0.2 }}>
                                        <div className={styles.cardHeader}>
                                            <span className={styles.cardNumber}>02</span>
                                            <div className={styles.cardIcon}>
                                                <svg width="31" height="26" viewBox="0 0 31 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M11.9999 12.0002C11.9999 12.7365 12.5969 13.3335 13.3333 13.3335C14.0696 13.3335 14.6666 12.7365 14.6666 12.0002H13.3333H11.9999ZM14.6666 6.66683C14.6666 5.93045 14.0696 5.3335 13.3333 5.3335C12.5969 5.3335 11.9999 5.93045 11.9999 6.66683H13.3333H14.6666ZM17.3333 17.3335C17.3333 18.0699 17.9302 18.6668 18.6666 18.6668C19.403 18.6668 19.9999 18.0699 19.9999 17.3335H18.6666H17.3333ZM19.9999 6.66683C19.9999 5.93045 19.403 5.3335 18.6666 5.3335C17.9302 5.3335 17.3333 5.93045 17.3333 6.66683H18.6666H19.9999ZM22.6666 17.3335C22.6666 18.0699 23.2635 18.6668 23.9999 18.6668C24.7363 18.6668 25.3333 18.0699 25.3333 17.3335H23.9999H22.6666ZM25.3333 9.3335C25.3333 8.59712 24.7363 8.00016 23.9999 8.00016C23.2635 8.00016 22.6666 8.59712 22.6666 9.3335H23.9999H25.3333ZM1.33325 9.3335C1.33325 10.0699 1.93021 10.6668 2.66659 10.6668C3.40297 10.6668 3.99992 10.0699 3.99992 9.3335H2.66659H1.33325ZM15.9999 21.3335C15.2635 21.3335 14.6666 21.9305 14.6666 22.6668C14.6666 23.4032 15.2635 24.0002 15.9999 24.0002V22.6668V21.3335ZM9.33325 16.0002H7.99992C7.99992 16.7365 7.40297 17.3335 6.66659 17.3335V18.6668V20.0002C8.87572 20.0002 10.6666 18.2093 10.6666 16.0002H9.33325ZM6.66659 18.6668V17.3335C5.93021 17.3335 5.33325 16.7365 5.33325 16.0002H3.99992H2.66659C2.66659 18.2093 4.45745 20.0002 6.66659 20.0002V18.6668ZM3.99992 16.0002H5.33325C5.33325 15.2638 5.93021 14.6668 6.66659 14.6668V13.3335V12.0002C4.45745 12.0002 2.66659 13.791 2.66659 16.0002H3.99992ZM6.66659 13.3335V14.6668C7.40297 14.6668 7.99992 15.2638 7.99992 16.0002H9.33325H10.6666C10.6666 13.791 8.87572 12.0002 6.66659 12.0002V13.3335ZM11.9931 24.0002V22.6668H1.34012V24.0002V25.3335H11.9931V24.0002ZM11.9999 23.9933H10.6666C10.6666 23.2607 11.2605 22.6668 11.9931 22.6668V24.0002V25.3335C12.7332 25.3335 13.3333 24.7335 13.3333 23.9933H11.9999ZM6.66659 18.6668V20.0002C8.87417 20.0002 10.6666 21.7902 10.6666 23.9933H11.9999H13.3333C13.3333 20.313 10.3425 17.3335 6.66659 17.3335V18.6668ZM1.33325 23.9933H2.66659C2.66659 21.7902 4.459 20.0002 6.66659 20.0002V18.6668V17.3335C2.99071 17.3335 -8.14199e-05 20.313 -8.14199e-05 23.9933H1.33325ZM1.33325 23.9933H-8.14199e-05C-8.14199e-05 24.7335 0.599941 25.3335 1.34012 25.3335V24.0002V22.6668C2.07271 22.6668 2.66659 23.2607 2.66659 23.9933H1.33325ZM13.3333 12.0002H14.6666V6.66683H13.3333H11.9999V12.0002H13.3333ZM18.6666 17.3335H19.9999V6.66683H18.6666H17.3333L17.3333 17.3335H18.6666ZM23.9999 17.3335H25.3333V9.3335H23.9999H22.6666V17.3335H23.9999ZM5.33325 1.3335V2.66683H26.6666V1.3335V0.000162721H5.33325V1.3335ZM29.3333 4.00016H27.9999V20.0002H29.3333H30.6666V4.00016H29.3333ZM29.3333 20.0002H27.9999C27.9999 20.7365 27.403 21.3335 26.6666 21.3335V22.6668V24.0002C28.8757 24.0002 30.6666 22.2093 30.6666 20.0002H29.3333ZM26.6666 1.3335V2.66683C27.403 2.66683 27.9999 3.26378 27.9999 4.00016H29.3333H30.6666C30.6666 1.79102 28.8757 0.000162721 26.6666 0.000162721V1.3335ZM5.33325 1.3335V0.000162721C3.12411 0.000162721 1.33325 1.79102 1.33325 4.00016H2.66659H3.99992C3.99992 3.26378 4.59687 2.66683 5.33325 2.66683V1.3335ZM2.66659 9.3335H3.99992V4.00016H2.66659H1.33325V9.3335H2.66659ZM26.6666 22.6668V21.3335H15.9999V22.6668V24.0002H26.6666V22.6668Z" fill="#173DC9" />
                                                </svg>

                                            </div>
                                        </div>
                                        <p className={styles.cardText}>{t.about.section3.card2}</p>
                                    </motion.div>
                                </div>
                                <div className={styles.cardsColumn} style={{ transform: 'translateY(75px)' }}>
                                    <motion.div className={styles.card} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6, delay: 0.3 }}>
                                        <div className={styles.cardHeader}>
                                            <span className={styles.cardNumber}>03</span>
                                            <div className={styles.cardIcon}>
                                                <svg width="32" height="24" viewBox="0 0 32 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M9.86293 14.6668L6.66659 9.3335M17.9177 9.3335L14.0821 14.6668M25.3333 14.6668L22.1369 9.3335M9.33325 5.3335C9.33325 7.54264 7.54239 9.3335 5.33325 9.3335C3.12411 9.3335 1.33325 7.54264 1.33325 5.3335C1.33325 3.12436 3.12411 1.3335 5.33325 1.3335C7.54239 1.3335 9.33325 3.12436 9.33325 5.3335ZM15.9999 18.6668C15.9999 20.876 14.2091 22.6668 11.9999 22.6668C9.79078 22.6668 7.99992 20.876 7.99992 18.6668C7.99992 16.4577 9.79078 14.6668 11.9999 14.6668C14.2091 14.6668 15.9999 16.4577 15.9999 18.6668ZM23.9999 5.3335C23.9999 7.54264 22.2091 9.3335 19.9999 9.3335C17.7908 9.3335 15.9999 7.54264 15.9999 5.3335C15.9999 3.12436 17.7908 1.3335 19.9999 1.3335C22.2091 1.3335 23.9999 3.12436 23.9999 5.3335ZM30.6666 18.6668C30.6666 20.876 28.8757 22.6668 26.6666 22.6668C24.4574 22.6668 22.6666 20.876 22.6666 18.6668C22.6666 16.4577 24.4574 14.6668 26.6666 14.6668C28.8757 14.6668 30.6666 16.4577 30.6666 18.6668Z" stroke="#173DC9" strokeWidth="2.66667" strokeLinecap="round" />
                                                </svg>

                                            </div>
                                        </div>
                                        <p className={styles.cardText}>{t.about.section3.card3}</p>
                                    </motion.div>
                                    <motion.div className={styles.card} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6, delay: 0.4 }}>
                                        <div className={styles.cardHeader}>
                                            <span className={styles.cardNumber}>04</span>
                                            <div className={styles.cardIcon}>
                                                <svg width="30" height="26" viewBox="0 0 30 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M27.3333 16.0002L23.2578 3.19162C22.9057 2.08501 21.8779 1.3335 20.7167 1.3335H8.6165C7.45523 1.3335 6.42747 2.08501 6.07536 3.19162L1.99992 16.0002M6.66659 18.6668H14.6666M6.66659 24.0002H22.6666C25.6121 24.0002 27.9999 21.6123 27.9999 18.6668C27.9999 15.7213 25.6121 13.3335 22.6666 13.3335H6.66659C3.72107 13.3335 1.33325 15.7213 1.33325 18.6668C1.33325 21.6123 3.72107 24.0002 6.66659 24.0002Z" stroke="#173DC9" strokeWidth="2.66667" strokeLinecap="round" />
                                                </svg>

                                            </div>
                                        </div>
                                        <p className={styles.cardText}>{t.about.section3.card4}</p>
                                    </motion.div>
                                </div>
                            </motion.div>
                        ) : (
                            // Cards 5-8 - Thay thế cards 1-4
                            <motion.div
                                key="cards-5-8"
                                className={styles.cardsContainer}
                                style={{ position: 'absolute', top: 0, left: 0, width: '100%' }}
                                initial={{ opacity: 0, y: 20 }}
                                animate={{ opacity: 1, y: 0 }}
                                exit={{ opacity: 0, y: -20 }}
                                transition={{ duration: 0.5 }}
                            >
                                <div className={styles.cardsColumn}>
                                    <motion.div className={styles.card} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6, delay: 0.1 }}>
                                        <div className={styles.cardHeader}>
                                            <span className={styles.cardNumber}>05</span>
                                            <div className={styles.cardIcon}>
                                                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M6.78928 26.3759L7.3946 25.1879H7.3946L6.78928 26.3759ZM5.6239 25.2105L6.81191 24.6052L6.81191 24.6052L5.6239 25.2105ZM25.2106 26.3759L24.6052 25.1879V25.1879L25.2106 26.3759ZM26.3759 25.2105L25.1879 24.6052V24.6052L26.3759 25.2105ZM25.2106 8.29052L24.6052 9.47853V9.47853L25.2106 8.29052ZM26.3759 9.4559L25.1879 10.0612V10.0612L26.3759 9.4559ZM6.78928 8.29052L6.18396 7.10251H6.18396L6.78928 8.29052ZM5.6239 9.4559L4.43589 8.85058H4.43589L5.6239 9.4559ZM20.7279 19.8545L21.3333 18.6665L20.7279 19.8545ZM20.1452 19.2719L21.3333 18.6665L20.1452 19.2719ZM29.1879 19.2719L27.9999 18.6665L29.1879 19.2719ZM28.6052 19.8545L27.9999 18.6665L28.6052 19.8545ZM28.6052 14.8119L27.9999 15.9999L28.6052 14.8119ZM29.1879 15.3946L27.9999 15.9999L29.1879 15.3946ZM20.7279 14.8119L21.3333 15.9999L20.7279 14.8119ZM20.1452 15.3946L21.3333 15.9999L20.1452 15.3946ZM7.50473 6.7619C6.82102 7.03539 6.48847 7.81135 6.76195 8.49506C7.03543 9.17877 7.81139 9.51133 8.49511 9.23784L7.99992 7.99987L7.50473 6.7619ZM19.5047 3.39795L19.0095 2.15998V2.15998L19.5047 3.39795ZM19.9999 7.99987C19.9999 8.73625 20.5969 9.33321 21.3333 9.33321C22.0696 9.33321 22.6666 8.73625 22.6666 7.99987H21.3333H19.9999ZM9.59992 7.99987V9.33321H22.3999V7.99987V6.66654H9.59992V7.99987ZM22.3999 26.6665V25.3332H9.59992V26.6665V27.9999H22.3999V26.6665ZM5.33325 22.3999H6.66659V12.2665H5.33325H3.99992V22.3999H5.33325ZM26.6666 12.2665H25.3333V14.9999H26.6666H27.9999V12.2665H26.6666ZM26.6666 20.2499H25.3333V22.3999H26.6666H27.9999V20.2499H26.6666ZM9.59992 26.6665V25.3332C8.83118 25.3332 8.33482 25.3322 7.95703 25.3013C7.59482 25.2717 7.46052 25.2215 7.3946 25.1879L6.78928 26.3759L6.18396 27.5639C6.68846 27.821 7.21275 27.916 7.73988 27.9591C8.25144 28.0009 8.87518 27.9999 9.59992 27.9999V26.6665ZM5.33325 22.3999H3.99992C3.99992 23.1246 3.99888 23.7484 4.04068 24.2599C4.08375 24.787 4.17883 25.3113 4.43589 25.8158L5.6239 25.2105L6.81191 24.6052C6.77832 24.5393 6.72808 24.405 6.69849 24.0428C6.66762 23.665 6.66659 23.1686 6.66659 22.3999H5.33325ZM6.78928 26.3759L7.3946 25.1879C7.14371 25.06 6.93974 24.8561 6.81191 24.6052L5.6239 25.2105L4.43589 25.8158C4.81939 26.5685 5.43131 27.1804 6.18396 27.5639L6.78928 26.3759ZM22.3999 26.6665V27.9999C23.1247 27.9999 23.7484 28.0009 24.26 27.9591C24.7871 27.916 25.3114 27.821 25.8159 27.5639L25.2106 26.3759L24.6052 25.1879C24.5393 25.2215 24.405 25.2717 24.0428 25.3013C23.665 25.3322 23.1687 25.3332 22.3999 25.3332V26.6665ZM26.6666 22.3999H25.3333C25.3333 23.1686 25.3322 23.665 25.3013 24.0428C25.2718 24.405 25.2215 24.5393 25.1879 24.6052L26.3759 25.2105L27.5639 25.8158C27.821 25.3113 27.9161 24.787 27.9592 24.2599C28.001 23.7484 27.9999 23.1246 27.9999 22.3999H26.6666ZM25.2106 26.3759L25.8159 27.5639C26.5685 27.1804 27.1805 26.5685 27.5639 25.8158L26.3759 25.2105L25.1879 24.6052C25.0601 24.8561 24.8561 25.06 24.6052 25.1879L25.2106 26.3759ZM22.3999 7.99987V9.33321C23.1687 9.33321 23.665 9.33424 24.0428 9.36511C24.405 9.3947 24.5393 9.44494 24.6052 9.47853L25.2106 8.29052L25.8159 7.10251C25.3114 6.84546 24.7871 6.75037 24.26 6.7073C23.7484 6.6655 23.1247 6.66654 22.3999 6.66654V7.99987ZM26.6666 12.2665H27.9999C27.9999 11.5418 28.001 10.9181 27.9592 10.4065C27.9161 9.87938 27.821 9.35508 27.5639 8.85058L26.3759 9.4559L25.1879 10.0612C25.2215 10.1271 25.2718 10.2614 25.3013 10.6237C25.3322 11.0014 25.3333 11.4978 25.3333 12.2665H26.6666ZM25.2106 8.29052L24.6052 9.47853C24.8561 9.60636 25.0601 9.81034 25.1879 10.0612L26.3759 9.4559L27.5639 8.85058C27.1805 8.09793 26.5685 7.48601 25.8159 7.10251L25.2106 8.29052ZM9.59992 7.99987V6.66654C8.87518 6.66654 8.25144 6.6655 7.73988 6.7073C7.21275 6.75037 6.68846 6.84546 6.18396 7.10251L6.78928 8.29052L7.3946 9.47853C7.46052 9.44494 7.59482 9.3947 7.95703 9.36511C8.33482 9.33424 8.83118 9.33321 9.59992 9.33321V7.99987ZM5.33325 12.2665H6.66659C6.66659 11.4978 6.66762 11.0014 6.69849 10.6237C6.72808 10.2614 6.77832 10.1271 6.81191 10.0612L5.6239 9.4559L4.43589 8.85058C4.17883 9.35508 4.08375 9.87938 4.04068 10.4065C3.99888 10.9181 3.99992 11.5418 3.99992 12.2665H5.33325ZM6.78928 8.29052L6.18396 7.10251C5.43131 7.48601 4.81939 8.09793 4.43589 8.85058L5.6239 9.4559L6.81191 10.0612C6.93974 9.81034 7.14372 9.60636 7.3946 9.47853L6.78928 8.29052ZM22.1333 14.6665V15.9999H27.1999V14.6665V13.3332H22.1333V14.6665ZM29.3333 16.7999H27.9999V17.8665H29.3333H30.6666V16.7999H29.3333ZM27.1999 19.9999V18.6665H22.1333V19.9999V21.3332H27.1999V19.9999ZM19.9999 17.8665H21.3333V16.7999H19.9999H18.6666V17.8665H19.9999ZM22.1333 19.9999V18.6665C21.7379 18.6665 21.5215 18.6655 21.3661 18.6528C21.2262 18.6414 21.2566 18.6275 21.3333 18.6665L20.7279 19.8545L20.1226 21.0426C20.4845 21.227 20.8442 21.2857 21.1489 21.3106C21.4382 21.3342 21.7819 21.3332 22.1333 21.3332V19.9999ZM19.9999 17.8665H18.6666C18.6666 18.2179 18.6655 18.5616 18.6892 18.8508C18.7141 19.1556 18.7728 19.5153 18.9572 19.8772L20.1452 19.2719L21.3333 18.6665C21.3723 18.7432 21.3584 18.7736 21.347 18.6337C21.3343 18.4782 21.3333 18.2619 21.3333 17.8665H19.9999ZM20.7279 19.8545L21.3333 18.6665V18.6665L20.1452 19.2719L18.9572 19.8772C19.2129 20.3789 19.6208 20.7869 20.1226 21.0426L20.7279 19.8545ZM29.3333 17.8665H27.9999C27.9999 18.2619 27.9989 18.4782 27.9862 18.6337C27.9748 18.7736 27.9608 18.7432 27.9999 18.6665L29.1879 19.2719L30.3759 19.8772C30.5603 19.5153 30.6191 19.1556 30.644 18.8508C30.6676 18.5616 30.6666 18.2179 30.6666 17.8665H29.3333ZM27.1999 19.9999V21.3332C27.5513 21.3332 27.895 21.3342 28.1842 21.3106C28.489 21.2857 28.8487 21.227 29.2106 21.0426L28.6052 19.8545L27.9999 18.6665C28.0766 18.6275 28.107 18.6414 27.9671 18.6528C27.8116 18.6655 27.5953 18.6665 27.1999 18.6665V19.9999ZM29.1879 19.2719L27.9999 18.6665V18.6665L28.6052 19.8545L29.2106 21.0426C29.7123 20.7869 30.1203 20.3789 30.3759 19.8772L29.1879 19.2719ZM27.1999 14.6665V15.9999C27.5953 15.9999 27.8116 16.0009 27.9671 16.0136C28.107 16.025 28.0766 16.0389 27.9999 15.9999L28.6052 14.8119L29.2106 13.6239C28.8487 13.4395 28.489 13.3807 28.1842 13.3558C27.895 13.3322 27.5513 13.3332 27.1999 13.3332V14.6665ZM29.3333 16.7999H30.6666C30.6666 16.4485 30.6676 16.1048 30.644 15.8156C30.6191 15.5108 30.5603 15.1511 30.3759 14.7892L29.1879 15.3946L27.9999 15.9999C27.9608 15.9232 27.9748 15.8928 27.9862 16.0327C27.9989 16.1882 27.9999 16.4045 27.9999 16.7999H29.3333ZM28.6052 14.8119L27.9999 15.9999V15.9999L29.1879 15.3946L30.3759 14.7892C30.1203 14.2875 29.7123 13.8795 29.2106 13.6239L28.6052 14.8119ZM22.1333 14.6665V13.3332C21.7819 13.3332 21.4382 13.3322 21.1489 13.3558C20.8442 13.3807 20.4845 13.4395 20.1226 13.6239L20.7279 14.8119L21.3333 15.9999C21.2566 16.0389 21.2262 16.025 21.3661 16.0136C21.5215 16.0009 21.7379 15.9999 22.1333 15.9999V14.6665ZM19.9999 16.7999H21.3333C21.3333 16.4045 21.3343 16.1882 21.347 16.0327C21.3584 15.8928 21.3723 15.9232 21.3333 15.9999L20.1452 15.3946L18.9572 14.7892C18.7728 15.1511 18.7141 15.5108 18.6892 15.8156C18.6655 16.1048 18.6666 16.4485 18.6666 16.7999H19.9999ZM20.7279 14.8119L20.1226 13.6239C19.6208 13.8795 19.2129 14.2875 18.9572 14.7892L20.1452 15.3946L21.3333 15.9999V15.9999L20.7279 14.8119ZM7.99992 7.99987L8.49511 9.23784L19.9999 4.63592L19.5047 3.39795L19.0095 2.15998L7.50473 6.7619L7.99992 7.99987ZM21.3333 4.63592H19.9999V7.99987H21.3333H22.6666V4.63592H21.3333ZM19.5047 3.39795L19.9999 4.63592L19.9999 4.63592H21.3333H22.6666C22.6666 2.74934 20.7612 1.45933 19.0095 2.15998L19.5047 3.39795Z" fill="#173DC9" />
                                                </svg>
                                            </div>
                                        </div>
                                        <p className={styles.cardText}>{t.about.section3.card5}</p>
                                    </motion.div>
                                    <motion.div className={styles.card} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6, delay: 0.2 }}>
                                        <div className={styles.cardHeader}>
                                            <span className={styles.cardNumber}>06</span>
                                            <div className={styles.cardIcon}>
                                                <svg width="31" height="26" viewBox="0 0 31 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M11.9999 12.0002C11.9999 12.7365 12.5969 13.3335 13.3333 13.3335C14.0696 13.3335 14.6666 12.7365 14.6666 12.0002H13.3333H11.9999ZM14.6666 6.66683C14.6666 5.93045 14.0696 5.3335 13.3333 5.3335C12.5969 5.3335 11.9999 5.93045 11.9999 6.66683H13.3333H14.6666ZM17.3333 17.3335C17.3333 18.0699 17.9302 18.6668 18.6666 18.6668C19.403 18.6668 19.9999 18.0699 19.9999 17.3335H18.6666H17.3333ZM19.9999 6.66683C19.9999 5.93045 19.403 5.3335 18.6666 5.3335C17.9302 5.3335 17.3333 5.93045 17.3333 6.66683H18.6666H19.9999ZM22.6666 17.3335C22.6666 18.0699 23.2635 18.6668 23.9999 18.6668C24.7363 18.6668 25.3333 18.0699 25.3333 17.3335H23.9999H22.6666ZM25.3333 9.3335C25.3333 8.59712 24.7363 8.00016 23.9999 8.00016C23.2635 8.00016 22.6666 8.59712 22.6666 9.3335H23.9999H25.3333ZM1.33325 9.3335C1.33325 10.0699 1.93021 10.6668 2.66659 10.6668C3.40297 10.6668 3.99992 10.0699 3.99992 9.3335H2.66659H1.33325ZM15.9999 21.3335C15.2635 21.3335 14.6666 21.9305 14.6666 22.6668C14.6666 23.4032 15.2635 24.0002 15.9999 24.0002V22.6668V21.3335ZM9.33325 16.0002H7.99992C7.99992 16.7365 7.40297 17.3335 6.66659 17.3335V18.6668V20.0002C8.87572 20.0002 10.6666 18.2093 10.6666 16.0002H9.33325ZM6.66659 18.6668V17.3335C5.93021 17.3335 5.33325 16.7365 5.33325 16.0002H3.99992H2.66659C2.66659 18.2093 4.45745 20.0002 6.66659 20.0002V18.6668ZM3.99992 16.0002H5.33325C5.33325 15.2638 5.93021 14.6668 6.66659 14.6668V13.3335V12.0002C4.45745 12.0002 2.66659 13.791 2.66659 16.0002H3.99992ZM6.66659 13.3335V14.6668C7.40297 14.6668 7.99992 15.2638 7.99992 16.0002H9.33325H10.6666C10.6666 13.791 8.87572 12.0002 6.66659 12.0002V13.3335ZM11.9931 24.0002V22.6668H1.34012V24.0002V25.3335H11.9931V24.0002ZM11.9999 23.9933H10.6666C10.6666 23.2607 11.2605 22.6668 11.9931 22.6668V24.0002V25.3335C12.7332 25.3335 13.3333 24.7335 13.3333 23.9933H11.9999ZM6.66659 18.6668V20.0002C8.87417 20.0002 10.6666 21.7902 10.6666 23.9933H11.9999H13.3333C13.3333 20.313 10.3425 17.3335 6.66659 17.3335V18.6668ZM1.33325 23.9933H2.66659C2.66659 21.7902 4.459 20.0002 6.66659 20.0002V18.6668V17.3335C2.99071 17.3335 -8.14199e-05 20.313 -8.14199e-05 23.9933H1.33325ZM1.33325 23.9933H-8.14199e-05C-8.14199e-05 24.7335 0.599941 25.3335 1.34012 25.3335V24.0002V22.6668C2.07271 22.6668 2.66659 23.2607 2.66659 23.9933H1.33325ZM13.3333 12.0002H14.6666V6.66683H13.3333H11.9999V12.0002H13.3333ZM18.6666 17.3335H19.9999V6.66683H18.6666H17.3333L17.3333 17.3335H18.6666ZM23.9999 17.3335H25.3333V9.3335H23.9999H22.6666V17.3335H23.9999ZM5.33325 1.3335V2.66683H26.6666V1.3335V0.000162721H5.33325V1.3335ZM29.3333 4.00016H27.9999V20.0002H29.3333H30.6666V4.00016H29.3333ZM29.3333 20.0002H27.9999C27.9999 20.7365 27.403 21.3335 26.6666 21.3335V22.6668V24.0002C28.8757 24.0002 30.6666 22.2093 30.6666 20.0002H29.3333ZM26.6666 1.3335V2.66683C27.403 2.66683 27.9999 3.26378 27.9999 4.00016H29.3333H30.6666C30.6666 1.79102 28.8757 0.000162721 26.6666 0.000162721V1.3335ZM5.33325 1.3335V0.000162721C3.12411 0.000162721 1.33325 1.79102 1.33325 4.00016H2.66659H3.99992C3.99992 3.26378 4.59687 2.66683 5.33325 2.66683V1.3335ZM2.66659 9.3335H3.99992V4.00016H2.66659H1.33325V9.3335H2.66659ZM26.6666 22.6668V21.3335H15.9999V22.6668V24.0002H26.6666V22.6668Z" fill="#173DC9" />
                                                </svg>
                                            </div>
                                        </div>
                                        <p className={styles.cardText}>{t.about.section3.card6}</p>
                                    </motion.div>
                                </div>
                                <div className={styles.cardsColumn} style={{ transform: 'translateY(75px)' }}>
                                    <motion.div className={styles.card} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6, delay: 0.3 }}>
                                        <div className={styles.cardHeader}>
                                            <span className={styles.cardNumber}>07</span>
                                            <div className={styles.cardIcon}>
                                                <svg width="32" height="24" viewBox="0 0 32 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M9.86293 14.6668L6.66659 9.3335M17.9177 9.3335L14.0821 14.6668M25.3333 14.6668L22.1369 9.3335M9.33325 5.3335C9.33325 7.54264 7.54239 9.3335 5.33325 9.3335C3.12411 9.3335 1.33325 7.54264 1.33325 5.3335C1.33325 3.12436 3.12411 1.3335 5.33325 1.3335C7.54239 1.3335 9.33325 3.12436 9.33325 5.3335ZM15.9999 18.6668C15.9999 20.876 14.2091 22.6668 11.9999 22.6668C9.79078 22.6668 7.99992 20.876 7.99992 18.6668C7.99992 16.4577 9.79078 14.6668 11.9999 14.6668C14.2091 14.6668 15.9999 16.4577 15.9999 18.6668ZM23.9999 5.3335C23.9999 7.54264 22.2091 9.3335 19.9999 9.3335C17.7908 9.3335 15.9999 7.54264 15.9999 5.3335C15.9999 3.12436 17.7908 1.3335 19.9999 1.3335C22.2091 1.3335 23.9999 3.12436 23.9999 5.3335ZM30.6666 18.6668C30.6666 20.876 28.8757 22.6668 26.6666 22.6668C24.4574 22.6668 22.6666 20.876 22.6666 18.6668C22.6666 16.4577 24.4574 14.6668 26.6666 14.6668C28.8757 14.6668 30.6666 16.4577 30.6666 18.6668Z" stroke="#173DC9" strokeWidth="2.66667" strokeLinecap="round" />
                                                </svg>
                                            </div>
                                        </div>
                                        <p className={styles.cardText}>{t.about.section3.card7}</p>
                                    </motion.div>
                                    <motion.div className={styles.card} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6, delay: 0.4 }}>
                                        <div className={styles.cardHeader}>
                                            <span className={styles.cardNumber}>08</span>
                                            <div className={styles.cardIcon}>
                                                <svg width="30" height="26" viewBox="0 0 30 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M27.3333 16.0002L23.2578 3.19162C22.9057 2.08501 21.8779 1.3335 20.7167 1.3335H8.6165C7.45523 1.3335 6.42747 2.08501 6.07536 3.19162L1.99992 16.0002M6.66659 18.6668H14.6666M6.66659 24.0002H22.6666C25.6121 24.0002 27.9999 21.6123 27.9999 18.6668C27.9999 15.7213 25.6121 13.3335 22.6666 13.3335H6.66659C3.72107 13.3335 1.33325 15.7213 1.33325 18.6668C1.33325 21.6123 3.72107 24.0002 6.66659 24.0002Z" stroke="#173DC9" strokeWidth="2.66667" strokeLinecap="round" />
                                                </svg>
                                            </div>
                                        </div>
                                        <p className={styles.cardText}>{t.about.section3.card8}</p>
                                    </motion.div>
                                </div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </div>
            ),
            number: "03"
        }
    ];

    return (
        <section ref={scrollSectionRef} className={styles.scrollSection}>
            <div className={styles.stickyContainer}>
                <div className={styles.backgroundImage}>
                    <Image src="/bg-header.webp" alt="About Background" fill className={styles.bgImage} priority unoptimized />
                </div>

                <div className={styles.topSection}>
                    <div className={styles.topContent} style={{ alignItems: 'flex-start' }}>



                        <div className=" flex items-center justify-center px-[12px] text-[#173DC9] py-[8px] gap-[12px] rounded-[8px] bg-[rgba(23,61,201,0.2)] backdrop-blur-[6px]  text-[20px] font-semibold leading-[26px] tracking-[0.2px]">
                            <div className="size-[12px] aspect-square bg-[#173DC9] rounded-[4px]" />
                            {t.about.tag}</div>
                    </div>
                    <div className={styles.processBarContainer}>
                        <motion.div className={styles.processBar} style={{ width: processBarWidth }} />
                    </div>
                </div>

                <div className={styles.contentWrapper}>
                    {sections.map((section) => (
                        <motion.div
                            key={section.id}
                            className={styles.contentSection}
                            initial={{ opacity: 0 }}
                            animate={{
                                opacity: currentSection === section.id ? 1 : 0,
                                y: currentSection === section.id ? 0 : 20
                            }}
                            transition={{ duration: 0.5 }}
                            style={{ display: currentSection === section.id ? 'block' : 'none' }}
                        >
                            <div className={styles.bottomSection}>
                                <div className={styles.contentContainer}>
                                    <div className={styles.leftColumn}>
                                        <motion.h1 className={styles.title} initial={{ opacity: 0, x: -50 }} animate={{ opacity: 1, x: 0 }} transition={{ duration: 0.6 }}>
                                            {section.title}
                                        </motion.h1>
                                        {section.title2 && (
                                            <motion.h1 className={styles.title} initial={{ opacity: 0, x: -50 }} animate={{ opacity: 1, x: 0 }} transition={{ duration: 0.6, delay: 0.1 }}>
                                                {section.title2}
                                            </motion.h1>
                                        )}
                                    </div>
                                    <div className={styles.rightColumn}>
                                        {section.content}
                                    </div>
                                </div>
                            </div>
                        </motion.div>
                    ))}
                </div>

                <div className={styles.numberCounterWrapper}>
                    <div className={styles.numberCounter}>
                        <AnimatePresence mode="wait">
                            <motion.span
                                key={currentSection}
                                className={styles.numberCurrent}
                                initial={{ opacity: 0, y: 20 }}
                                animate={{ opacity: 1, y: 0 }}
                                exit={{ opacity: 0, y: -20 }}
                                transition={{ duration: 0.3 }}
                            >
                                {sections[currentSection - 1].number}
                            </motion.span>
                        </AnimatePresence>
                        <span className={styles.numberSeparator}>/</span>
                        <span className={styles.numberTotal}>03</span>
                    </div>
                </div>
            </div>
        </section>
    );
}

export default About;
